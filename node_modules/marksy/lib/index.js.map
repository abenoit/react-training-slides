{"version":3,"sources":["../src/index.js"],"names":["marksy","options","tracker","tree","elements","nextElementId","toc","currentIdLevel","currentId","renderer","compile","content","markedOptions","context","Object","assign","smartypants"],"mappings":";;;;;QAGgBA,M,GAAAA,M;;kBAyBD,UAAUC,OAAV,EAAmB;AAChC,SAAOD,OAAOC,OAAP,CAAP;AACD,C;;AA9BD;;;;AACA;;;;;;AAEO,SAASD,MAAT,GAA+B;AAAA,MAAdC,OAAc,uEAAJ,EAAI;;AACpC,MAAMC,UAAU;AACdC,UAAM,IADQ;AAEdC,cAAU,IAFI;AAGdC,mBAAe,IAHD;AAIdC,SAAK,IAJS;AAKdC,oBAAgB,CALF;AAMdC,eAAW;AANG,GAAhB;AAQA,MAAMC,WAAW,8BAAeP,OAAf,EAAwBD,OAAxB,CAAjB;;AAEA,SAAO,SAASS,OAAT,CAAkBC,OAAlB,EAA6D;AAAA,QAAlCC,aAAkC,uEAAlB,EAAkB;AAAA,QAAdC,OAAc,uEAAJ,EAAI;;AAClEX,YAAQC,IAAR,GAAe,EAAf;AACAD,YAAQE,QAAR,GAAmB,EAAnB;AACAF,YAAQI,GAAR,GAAc,EAAd;AACAJ,YAAQG,aAAR,GAAwB,CAAxB;AACAH,YAAQW,OAAR,GAAkBA,OAAlB;AACAX,YAAQM,SAAR,GAAoB,EAApB;AACA,0BAAOG,OAAP,EAAgBG,OAAOC,MAAP,CAAc,EAACN,UAAUA,QAAX,EAAqBO,aAAa,IAAlC,EAAd,EAAuDJ,aAAvD,CAAhB;;AAEA,WAAO,EAACT,MAAMD,QAAQC,IAAf,EAAqBG,KAAKJ,QAAQI,GAAlC,EAAP;AACD,GAVD;AAWD;;AAKA","file":"index.js","sourcesContent":["import marked from 'marked';\nimport createRenderer from './createRenderer';\n\nexport function marksy (options = {}) {\n  const tracker = {\n    tree: null,\n    elements: null,\n    nextElementId: null,\n    toc: null,\n    currentIdLevel: 0,\n    currentId: []\n  };\n  const renderer = createRenderer(tracker, options)\n\n  return function compile (content, markedOptions = {}, context = {}) {\n    tracker.tree = [];\n    tracker.elements = {};\n    tracker.toc = [];\n    tracker.nextElementId = 0;\n    tracker.context = context;\n    tracker.currentId = [];\n    marked(content, Object.assign({renderer: renderer, smartypants: true}, markedOptions));\n\n    return {tree: tracker.tree, toc: tracker.toc};\n  };\n}\n\n\nexport default function (options) {\n  return marksy(options)\n};\n"]}